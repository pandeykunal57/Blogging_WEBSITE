<!DOCTYPE html>
<html>
<head>
    <title>Blog</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Edu+AU+VIC+WA+NT+Hand:wght@400..700&family=Noto+Sans:ital,wght@1,606&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@500&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@1,700&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Kanit:ital,wght@1,500&family=Roboto:ital,wght@1,500;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="/stylesheets/style.css">
</head>
<body>
    <div class="container">
        <div class="sidebar">
           
            <h2>Blog Posts</h2>
            <ul>
                <% posts.forEach(post => { %>
                    <li>
                        <a href="/?postId=<%= post.id %>"><%= post.title %></a>
                    </li>
                <% }) %>
            </ul>
            <a href="/new-post" class="new-post-btn">Create a new post</a>
        </div>
        <div class="content">
            <% if (selectedPost) { %>
                <h1><%= selectedPost.title %></h1>
                <p><%= selectedPost.content %></p>
                <div class="post-meta">
                    <span class="author">Author: <%= selectedPost.author %></span>
                    <span class="date">Created at: <%= selectedPost.createdAt %></span>
                </div>
                <div class="post-actions">
                    <a href="/edit/<%= selectedPost.id %>" class="edit-btn">Edit</a>
                    <form action="/delete/<%= selectedPost.id %>" method="POST" class="delete-form" onsubmit="return confirmDelete()">
                        <button type="submit" class="delete-btn">Delete</button>
                    </form>
                </div>
            <% } else { %>
                <h1>Welcome to the Blog</h1>
                <p>Select a post to view its content.</p>
            <% } %>
        </div>
    </div>

    <script>
        function confirmDelete() {
            return confirm("Are you sure you want to delete this post?");
        }
    </script>
</body>
</html>
